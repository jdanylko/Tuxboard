/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/bootstrap@5.0.0-alpha1/js/src/dom/event-handler.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{getjQuery}from"../util/index";import{defaultPreventedPreservedOnDispatch}from"./polyfill";const $=getjQuery(),namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function getUidEvent(e,t){return t&&`${t}::${uidEvent++}`||e.uidEvent||uidEvent++}function getEvent(e){const t=getUidEvent(e);return e.uidEvent=t,eventRegistry[t]=eventRegistry[t]||{},eventRegistry[t]}function bootstrapHandler(e,t){return function n(r){return n.oneOff&&EventHandler.off(e,r.type,t),t.apply(e,[r])}}function bootstrapDelegationHandler(e,t,n){return function r(o){const a=e.querySelectorAll(t);for(let{target:t}=o;t&&t!==this;t=t.parentNode)for(let i=a.length;i--;)if(a[i]===t)return r.oneOff&&EventHandler.off(e,o.type,n),n.apply(t,[o]);return null}}function findHandler(e,t,n=null){const r=Object.keys(e);for(let o=0,a=r.length;o<a;o++){const a=e[r[o]];if(a.originalHandler===t&&a.delegationSelector===n)return a}return null}function normalizeParams(e,t,n){const r="string"==typeof t,o=r?n:t;let a=e.replace(stripNameRegex,"");const i=customEvents[a];return i&&(a=i),nativeEvents.indexOf(a)>-1||(a=e),[r,o,a]}function addHandler(e,t,n,r,o){if("string"!=typeof t||!e)return;n||(n=r,r=null);const[a,i,l]=normalizeParams(t,n,r),s=getEvent(e),d=s[l]||(s[l]={}),u=findHandler(d,i,a?n:null);if(u)return void(u.oneOff=u.oneOff&&o);const c=getUidEvent(i,t.replace(namespaceRegex,"")),f=a?bootstrapDelegationHandler(e,n,r):bootstrapHandler(e,n);f.delegationSelector=a?n:null,f.originalHandler=i,f.oneOff=o,f.uidEvent=c,d[c]=f,e.addEventListener(l,f,a)}function removeHandler(e,t,n,r,o){const a=findHandler(t[n],r,o);a&&(e.removeEventListener(n,a,Boolean(o)),delete t[n][a.uidEvent])}function removeNamespacedHandlers(e,t,n,r){const o=t[n]||{};Object.keys(o).forEach(a=>{if(a.indexOf(r)>-1){const r=o[a];removeHandler(e,t,n,r.originalHandler,r.delegationSelector)}})}const EventHandler={on(e,t,n,r){addHandler(e,t,n,r,!1)},one(e,t,n,r){addHandler(e,t,n,r,!0)},off(e,t,n,r){if("string"!=typeof t||!e)return;const[o,a,i]=normalizeParams(t,n,r),l=i!==t,s=getEvent(e),d="."===t.charAt(0);if(void 0!==a){if(!s||!s[i])return;return void removeHandler(e,s,i,a,o?n:null)}d&&Object.keys(s).forEach(n=>{removeNamespacedHandlers(e,s,n,t.slice(1))});const u=s[i]||{};Object.keys(u).forEach(n=>{const r=n.replace(stripUidRegex,"");if(!l||t.indexOf(r)>-1){const t=u[n];removeHandler(e,s,i,t.originalHandler,t.delegationSelector)}})},trigger(e,t,n){if("string"!=typeof t||!e)return null;const r=t.replace(stripNameRegex,""),o=t!==r,a=nativeEvents.indexOf(r)>-1;let i,l=!0,s=!0,d=!1,u=null;return o&&$&&(i=$.Event(t,n),$(e).trigger(i),l=!i.isPropagationStopped(),s=!i.isImmediatePropagationStopped(),d=i.isDefaultPrevented()),a?(u=document.createEvent("HTMLEvents")).initEvent(r,l,!0):u=new CustomEvent(t,{bubbles:l,cancelable:!0}),void 0!==n&&Object.keys(n).forEach(e=>{Object.defineProperty(u,e,{get:()=>n[e]})}),d&&(u.preventDefault(),defaultPreventedPreservedOnDispatch||Object.defineProperty(u,"defaultPrevented",{get:()=>!0})),s&&e.dispatchEvent(u),u.defaultPrevented&&void 0!==i&&i.preventDefault(),u}};export default EventHandler;
//# sourceMappingURL=/sm/9906a1eceb80414c1b61ee4b619d24165a829c446ec78c3cbbae00af6acb3910.map
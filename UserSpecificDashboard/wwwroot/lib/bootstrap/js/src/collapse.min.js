/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/bootstrap@5.0.0-alpha1/js/src/collapse.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{getjQuery,TRANSITION_END,emulateTransitionEnd,getSelectorFromElement,getElementFromSelector,getTransitionDurationFromElement,isElement,reflow,typeCheckConfig}from"./util/index";import Data from"./dom/data";import EventHandler from"./dom/event-handler";import Manipulator from"./dom/manipulator";import SelectorEngine from"./dom/selector-engine";const NAME="collapse",VERSION="5.0.0-alpha1",DATA_KEY="bs.collapse",EVENT_KEY=`.${DATA_KEY}`,DATA_API_KEY=".data-api",Default={toggle:!0,parent:""},DefaultType={toggle:"boolean",parent:"(string|element)"},EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,EVENT_CLICK_DATA_API=`click${EVENT_KEY}.data-api`,CLASS_NAME_SHOW="show",CLASS_NAME_COLLAPSE="collapse",CLASS_NAME_COLLAPSING="collapsing",CLASS_NAME_COLLAPSED="collapsed",WIDTH="width",HEIGHT="height",SELECTOR_ACTIVES=".show, .collapsing",SELECTOR_DATA_TOGGLE='[data-toggle="collapse"]';class Collapse{constructor(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=SelectorEngine.find(`${SELECTOR_DATA_TOGGLE}[href="#${t.id}"],`+`${SELECTOR_DATA_TOGGLE}[data-target="#${t.id}"]`);const n=SelectorEngine.find(SELECTOR_DATA_TOGGLE);for(let e=0,i=n.length;e<i;e++){const i=n[e],s=getSelectorFromElement(i),a=SelectorEngine.find(s).filter(e=>e===t);null!==s&&a.length&&(this._selector=s,this._triggerArray.push(i))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle(),Data.setData(t,DATA_KEY,this)}static get VERSION(){return VERSION}static get Default(){return Default}toggle(){this._element.classList.contains(CLASS_NAME_SHOW)?this.hide():this.show()}show(){if(this._isTransitioning||this._element.classList.contains(CLASS_NAME_SHOW))return;let t,e;this._parent&&0===(t=SelectorEngine.find(SELECTOR_ACTIVES,this._parent).filter(t=>"string"==typeof this._config.parent?t.getAttribute("data-parent")===this._config.parent:t.classList.contains(CLASS_NAME_COLLAPSE))).length&&(t=null);const n=SelectorEngine.findOne(this._selector);if(t){const i=t.filter(t=>n!==t);if((e=i[0]?Data.getData(i[0],DATA_KEY):null)&&e._isTransitioning)return}if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;t&&t.forEach(t=>{n!==t&&Collapse.collapseInterface(t,"hide"),e||Data.setData(t,DATA_KEY,null)});const i=this._getDimension();this._element.classList.remove(CLASS_NAME_COLLAPSE),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.style[i]=0,this._triggerArray.length&&this._triggerArray.forEach(t=>{t.classList.remove(CLASS_NAME_COLLAPSED),t.setAttribute("aria-expanded",!0)}),this.setTransitioning(!0);const s=`scroll${i[0].toUpperCase()+i.slice(1)}`,a=getTransitionDurationFromElement(this._element);EventHandler.one(this._element,TRANSITION_END,()=>{this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW),this._element.style[i]="",this.setTransitioning(!1),EventHandler.trigger(this._element,EVENT_SHOWN)}),emulateTransitionEnd(this._element,a),this._element.style[i]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._element.classList.contains(CLASS_NAME_SHOW))return;if(EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,reflow(this._element),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.classList.remove(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW);const e=this._triggerArray.length;if(e>0)for(let t=0;t<e;t++){const e=this._triggerArray[t],n=getElementFromSelector(e);n&&!n.classList.contains(CLASS_NAME_SHOW)&&(e.classList.add(CLASS_NAME_COLLAPSED),e.setAttribute("aria-expanded",!1))}this.setTransitioning(!0);this._element.style[t]="";const n=getTransitionDurationFromElement(this._element);EventHandler.one(this._element,TRANSITION_END,()=>{this.setTransitioning(!1),this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE),EventHandler.trigger(this._element,EVENT_HIDDEN)}),emulateTransitionEnd(this._element,n)}setTransitioning(t){this._isTransitioning=t}dispose(){Data.removeData(this._element,DATA_KEY),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null}_getConfig(t){return(t={...Default,...t}).toggle=Boolean(t.toggle),typeCheckConfig(NAME,t,DefaultType),t}_getDimension(){return this._element.classList.contains(WIDTH)?WIDTH:HEIGHT}_getParent(){let{parent:t}=this._config;isElement(t)?void 0===t.jquery&&void 0===t[0]||(t=t[0]):t=SelectorEngine.findOne(t);const e=`${SELECTOR_DATA_TOGGLE}[data-parent="${t}"]`;return SelectorEngine.find(e,t).forEach(t=>{const e=getElementFromSelector(t);this._addAriaAndCollapsedClass(e,[t])}),t}_addAriaAndCollapsedClass(t,e){if(t){const n=t.classList.contains(CLASS_NAME_SHOW);e.length&&e.forEach(t=>{n?t.classList.remove(CLASS_NAME_COLLAPSED):t.classList.add(CLASS_NAME_COLLAPSED),t.setAttribute("aria-expanded",n)})}}static collapseInterface(t,e){let n=Data.getData(t,DATA_KEY);const i={...Default,...Manipulator.getDataAttributes(t),..."object"==typeof e&&e?e:{}};if(!n&&i.toggle&&"string"==typeof e&&/show|hide/.test(e)&&(i.toggle=!1),n||(n=new Collapse(t,i)),"string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}static jQueryInterface(t){return this.each(function(){Collapse.collapseInterface(this,t)})}static getInstance(t){return Data.getData(t,DATA_KEY)}}EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(t){"A"===t.target.tagName&&t.preventDefault();const e=Manipulator.getDataAttributes(this),n=getSelectorFromElement(this);SelectorEngine.find(n).forEach(t=>{const n=Data.getData(t,DATA_KEY);let i;n?(null===n._parent&&"string"==typeof e.parent&&(n._config.parent=e.parent,n._parent=n._getParent()),i="toggle"):i=e,Collapse.collapseInterface(t,i)})});const $=getjQuery();if($){const t=$.fn[NAME];$.fn[NAME]=Collapse.jQueryInterface,$.fn[NAME].Constructor=Collapse,$.fn[NAME].noConflict=(()=>($.fn[NAME]=t,Collapse.jQueryInterface))}export default Collapse;
//# sourceMappingURL=/sm/c70447320ccfa4440967d02b5a7bcc1fc385c54412299ee74a774ddcac2f66d8.map
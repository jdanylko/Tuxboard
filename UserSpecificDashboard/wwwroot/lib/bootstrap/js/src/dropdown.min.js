/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/bootstrap@5.0.0-alpha1/js/src/dropdown.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{getjQuery,getElementFromSelector,isElement,isVisible,noop,typeCheckConfig}from"./util/index";import Data from"./dom/data";import EventHandler from"./dom/event-handler";import Manipulator from"./dom/manipulator";import Popper from"popper.js";import SelectorEngine from"./dom/selector-engine";const NAME="dropdown",VERSION="5.0.0-alpha1",DATA_KEY="bs.dropdown",EVENT_KEY=`.${DATA_KEY}`,DATA_API_KEY=".data-api",ESCAPE_KEY="Escape",SPACE_KEY="Space",TAB_KEY="Tab",ARROW_UP_KEY="ArrowUp",ARROW_DOWN_KEY="ArrowDown",RIGHT_MOUSE_BUTTON=2,REGEXP_KEYDOWN=new RegExp(`${ARROW_UP_KEY}|${ARROW_DOWN_KEY}|${ESCAPE_KEY}`),EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,EVENT_CLICK=`click${EVENT_KEY}`,EVENT_CLICK_DATA_API=`click${EVENT_KEY}.data-api`,EVENT_KEYDOWN_DATA_API=`keydown${EVENT_KEY}.data-api`,EVENT_KEYUP_DATA_API=`keyup${EVENT_KEY}.data-api`,CLASS_NAME_DISABLED="disabled",CLASS_NAME_SHOW="show",CLASS_NAME_DROPUP="dropup",CLASS_NAME_DROPRIGHT="dropright",CLASS_NAME_DROPLEFT="dropleft",CLASS_NAME_MENURIGHT="dropdown-menu-right",CLASS_NAME_NAVBAR="navbar",CLASS_NAME_POSITION_STATIC="position-static",SELECTOR_DATA_TOGGLE='[data-toggle="dropdown"]',SELECTOR_FORM_CHILD=".dropdown form",SELECTOR_MENU=".dropdown-menu",SELECTOR_NAVBAR_NAV=".navbar-nav",SELECTOR_VISIBLE_ITEMS=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",PLACEMENT_TOP="top-start",PLACEMENT_TOPEND="top-end",PLACEMENT_BOTTOM="bottom-start",PLACEMENT_BOTTOMEND="bottom-end",PLACEMENT_RIGHT="right-start",PLACEMENT_LEFT="left-start",Default={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},DefaultType={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"};class Dropdown{constructor(e,t){this._element=e,this._popper=null,this._config=this._getConfig(t),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners(),Data.setData(e,DATA_KEY,this)}static get VERSION(){return VERSION}static get Default(){return Default}static get DefaultType(){return DefaultType}toggle(){if(this._element.disabled||this._element.classList.contains(CLASS_NAME_DISABLED))return;const e=this._element.classList.contains(CLASS_NAME_SHOW);Dropdown.clearMenus(),e||this.show()}show(){if(this._element.disabled||this._element.classList.contains(CLASS_NAME_DISABLED)||this._menu.classList.contains(CLASS_NAME_SHOW))return;const e=Dropdown.getParentFromElement(this._element),t={relatedTarget:this._element};if(!EventHandler.trigger(this._element,EVENT_SHOW,t).defaultPrevented){if(!this._inNavbar){if(void 0===Popper)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=e:isElement(this._config.reference)&&(t=this._config.reference,void 0!==this._config.reference.jquery&&(t=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e.classList.add(CLASS_NAME_POSITION_STATIC),this._popper=new Popper(t,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&!e.closest(SELECTOR_NAVBAR_NAV)&&[].concat(...document.body.children).forEach(e=>EventHandler.on(e,"mouseover",null,noop())),this._element.focus(),this._element.setAttribute("aria-expanded",!0),Manipulator.toggleClass(this._menu,CLASS_NAME_SHOW),Manipulator.toggleClass(this._element,CLASS_NAME_SHOW),EventHandler.trigger(e,EVENT_SHOWN,t)}}hide(){if(this._element.disabled||this._element.classList.contains(CLASS_NAME_DISABLED)||!this._menu.classList.contains(CLASS_NAME_SHOW))return;const e=Dropdown.getParentFromElement(this._element),t={relatedTarget:this._element};EventHandler.trigger(e,EVENT_HIDE,t).defaultPrevented||(this._popper&&this._popper.destroy(),Manipulator.toggleClass(this._menu,CLASS_NAME_SHOW),Manipulator.toggleClass(this._element,CLASS_NAME_SHOW),EventHandler.trigger(e,EVENT_HIDDEN,t))}dispose(){Data.removeData(this._element,DATA_KEY),EventHandler.off(this._element,EVENT_KEY),this._element=null,this._menu=null,this._popper&&(this._popper.destroy(),this._popper=null)}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.scheduleUpdate()}_addEventListeners(){EventHandler.on(this._element,EVENT_CLICK,e=>{e.preventDefault(),e.stopPropagation(),this.toggle()})}_getConfig(e){return e={...this.constructor.Default,...Manipulator.getDataAttributes(this._element),...e},typeCheckConfig(NAME,e,this.constructor.DefaultType),e}_getMenuElement(){return SelectorEngine.next(this._element,SELECTOR_MENU)[0]}_getPlacement(){const e=this._element.parentNode;let t=PLACEMENT_BOTTOM;return e.classList.contains(CLASS_NAME_DROPUP)?(t=PLACEMENT_TOP,this._menu.classList.contains(CLASS_NAME_MENURIGHT)&&(t=PLACEMENT_TOPEND)):e.classList.contains(CLASS_NAME_DROPRIGHT)?t=PLACEMENT_RIGHT:e.classList.contains(CLASS_NAME_DROPLEFT)?t=PLACEMENT_LEFT:this._menu.classList.contains(CLASS_NAME_MENURIGHT)&&(t=PLACEMENT_BOTTOMEND),t}_detectNavbar(){return Boolean(this._element.closest(`.${CLASS_NAME_NAVBAR}`))}_getOffset(){const e={};return"function"==typeof this._config.offset?e.fn=(e=>(e.offsets={...e.offsets,...this._config.offset(e.offsets,this._element)||{}},e)):e.offset=this._config.offset,e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(e.modifiers.applyStyle={enabled:!1}),{...e,...this._config.popperConfig}}static dropdownInterface(e,t){let n=Data.getData(e,DATA_KEY);if(n||(n=new Dropdown(e,"object"==typeof t?t:null)),"string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}static jQueryInterface(e){return this.each(function(){Dropdown.dropdownInterface(this,e)})}static clearMenus(e){if(e&&(e.button===RIGHT_MOUSE_BUTTON||"keyup"===e.type&&e.key!==TAB_KEY))return;const t=SelectorEngine.find(SELECTOR_DATA_TOGGLE);for(let n=0,o=t.length;n<o;n++){const o=Dropdown.getParentFromElement(t[n]),r=Data.getData(t[n],DATA_KEY),E={relatedTarget:t[n]};if(e&&"click"===e.type&&(E.clickEvent=e),!r)continue;const s=r._menu;t[n].classList.contains(CLASS_NAME_SHOW)&&(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&e.key===TAB_KEY)&&s.contains(e.target)||EventHandler.trigger(o,EVENT_HIDE,E).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach(e=>EventHandler.off(e,"mouseover",null,noop())),t[n].setAttribute("aria-expanded","false"),r._popper&&r._popper.destroy(),s.classList.remove(CLASS_NAME_SHOW),t[n].classList.remove(CLASS_NAME_SHOW),EventHandler.trigger(o,EVENT_HIDDEN,E)))}}static getParentFromElement(e){return getElementFromSelector(e)||e.parentNode}static dataApiKeydownHandler(e){if(/input|textarea/i.test(e.target.tagName)?e.key===SPACE_KEY||e.key!==ESCAPE_KEY&&(e.key!==ARROW_DOWN_KEY&&e.key!==ARROW_UP_KEY||e.target.closest(SELECTOR_MENU)):!REGEXP_KEYDOWN.test(e.key))return;if(e.preventDefault(),e.stopPropagation(),this.disabled||this.classList.contains(CLASS_NAME_DISABLED))return;const t=Dropdown.getParentFromElement(this),n=this.classList.contains(CLASS_NAME_SHOW);if(e.key===ESCAPE_KEY){return(this.matches(SELECTOR_DATA_TOGGLE)?this:SelectorEngine.prev(this,SELECTOR_DATA_TOGGLE)[0]).focus(),void Dropdown.clearMenus()}if(!n||e.key===SPACE_KEY)return void Dropdown.clearMenus();const o=SelectorEngine.find(SELECTOR_VISIBLE_ITEMS,t).filter(isVisible);if(!o.length)return;let r=o.indexOf(e.target);e.key===ARROW_UP_KEY&&r>0&&r--,e.key===ARROW_DOWN_KEY&&r<o.length-1&&r++,o[r=-1===r?0:r].focus()}static getInstance(e){return Data.getData(e,DATA_KEY)}}EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_DATA_TOGGLE,Dropdown.dataApiKeydownHandler),EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_MENU,Dropdown.dataApiKeydownHandler),EventHandler.on(document,EVENT_CLICK_DATA_API,Dropdown.clearMenus),EventHandler.on(document,EVENT_KEYUP_DATA_API,Dropdown.clearMenus),EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(e){e.preventDefault(),e.stopPropagation(),Dropdown.dropdownInterface(this,"toggle")}),EventHandler.on(document,EVENT_CLICK_DATA_API,".dropdown form",e=>e.stopPropagation());const $=getjQuery();if($){const e=$.fn[NAME];$.fn[NAME]=Dropdown.jQueryInterface,$.fn[NAME].Constructor=Dropdown,$.fn[NAME].noConflict=(()=>($.fn[NAME]=e,Dropdown.jQueryInterface))}export default Dropdown;
//# sourceMappingURL=/sm/ffa94a6df930b9f05ed0e771ae2988b8e9c5b603c2a018397055041d3c205f95.map